-- Generated by Oracle SQL Developer Data Modeler 24.3.1.351.0831
--   at:        2025-04-28 12:15:03 PST
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE ACTIVITY_LOGS 
    ( 
     ID         INT AUTO_INCREMENT NOT NULL , 
     Details    VARCHAR (255)  NOT NULL , 
     Last_Login DATETIME DEFAULT CURRENT_TIMESTAMP , 
     USER_ID    INT  NOT NULL 
    ) 
;

ALTER TABLE ACTIVITY_LOGS 
    ADD CONSTRAINT ACT_PK PRIMARY KEY ( ID, USER_ID ) ;

CREATE TABLE CATEGORIES 
    ( 
     ID               INT AUTO_INCREMENT NOT NULL , 
     Product_Category VARCHAR (50)  NOT NULL 
    ) 
;

ALTER TABLE CATEGORIES 
    ADD CONSTRAINT CAT_PK PRIMARY KEY ( ID ) ;

CREATE TABLE PRODUCT_REVIEW_COMMENTS 
    ( 
     ID          INT AUTO_INCREMENT NOT NULL , 
     Review_Text TEXT  NOT NULL , 
     USER_ID     INT  NOT NULL , 
     PRODUCT_ID  INT  NOT NULL 
    ) 
;

ALTER TABLE PRODUCT_REVIEW_COMMENTS 
    ADD CONSTRAINT PRC_PK PRIMARY KEY ( ID, USER_ID ) ;

CREATE TABLE PRODUCT_VOTES 
    ( 
     ID         INT AUTO_INCREMENT NOT NULL , 
     Votes      SMALLINT  NOT NULL , 
     PRODUCT_ID INT  NOT NULL , 
     USER_ID    INT  NOT NULL 
    ) 
;

;

ALTER TABLE PRODUCT_VOTES 
    ADD CONSTRAINT PVT_PK PRIMARY KEY ( ID, PRODUCT_ID ) ;

CREATE TABLE PRODUCTS 
    ( 
     ID          INT AUTO_INCREMENT NOT NULL , 
     Name        VARCHAR (100)  NOT NULL , 
     Photo       BLOB  NOT NULL , 
     Description VARCHAR (255)  NOT NULL , 
     Price       DECIMAL(10,2)  NOT NULL , 
     CATEGORY_ID INT  NOT NULL 
    ) 
;

ALTER TABLE PRODUCTS 
    ADD CONSTRAINT PRO_PK PRIMARY KEY ( ID ) ;

CREATE TABLE ROLES 
    ( 
     ID        INT AUTO_INCREMENT NOT NULL , 
     Role_Name VARCHAR (50)  NOT NULL 
    ) 
;

ALTER TABLE ROLES 
    ADD CONSTRAINT ROLE_PK PRIMARY KEY ( ID ) ;

ALTER TABLE ROLES 
    ADD CONSTRAINT ROLE_Role_Name_UN UNIQUE ( Role_Name ) ;

CREATE TABLE SENTIMENTS 
    ( 
     ID                             INT AUTO_INCREMENT NOT NULL , 
     Sentiment_Label                VARCHAR (100)  NOT NULL , 
     Sentiment_Score                INT  NOT NULL , 
     PRODUCT_REVIEW_COMMENT_ID      INT  NOT NULL , 
     PRODUCT_REVIEW_COMMENT_USER_ID INT  NOT NULL , 
     PRODUCT_ID                     INT  NOT NULL 
    ) 
;
CREATE UNIQUE INDEX SEN__IDX ON SENTIMENTS 
    ( 
     PRODUCT_REVIEW_COMMENT_ID ASC , 
     PRODUCT_REVIEW_COMMENT_USER_ID ASC 
    ) 
;

ALTER TABLE SENTIMENTS 
    ADD CONSTRAINT SEN_PK PRIMARY KEY ( ID, PRODUCT_REVIEW_COMMENT_ID, PRODUCT_REVIEW_COMMENT_USER_ID ) ;

CREATE TABLE USERS 
    ( 
     ID         INT AUTO_INCREMENT NOT NULL , 
     Email      VARCHAR (255)  NOT NULL , 
     First_Name VARCHAR (100)  NOT NULL , 
     Last_Name  VARCHAR (100)  NOT NULL , 
     Password   VARCHAR (255)  NOT NULL , 
     Created_At TIMESTAMP DEFAULT CURRENT_TIMESTAMP , 
     ROLE_ID    INT  NOT NULL 
    ) 
;

ALTER TABLE USERS 
    ADD CONSTRAINT USR_PK PRIMARY KEY ( ID ) ;

ALTER TABLE USERS 
    ADD CONSTRAINT USR_Email_UN UNIQUE ( Email ) ;

ALTER TABLE ACTIVITY_LOGS 
    ADD CONSTRAINT ACT_USR_FK FOREIGN KEY 
    ( 
     USER_ID
    ) 
    REFERENCES USERS 
    ( 
     ID
    ) 
;

ALTER TABLE PRODUCT_REVIEW_COMMENTS 
    ADD CONSTRAINT PRC_PRO_FK FOREIGN KEY 
    ( 
     PRODUCT_ID
    ) 
    REFERENCES PRODUCTS 
    ( 
     ID
    ) 
;

ALTER TABLE PRODUCT_REVIEW_COMMENTS 
    ADD CONSTRAINT PRC_USR_FK FOREIGN KEY 
    ( 
     USER_ID
    ) 
    REFERENCES USERS 
    ( 
     ID
    ) 
;

ALTER TABLE PRODUCTS 
    ADD CONSTRAINT PRO_CAT_FK FOREIGN KEY 
    ( 
     CATEGORY_ID
    ) 
    REFERENCES CATEGORIES 
    ( 
     ID
    ) 
;

ALTER TABLE PRODUCT_VOTES 
    ADD CONSTRAINT PVT_PRO_FK FOREIGN KEY 
    ( 
     PRODUCT_ID
    ) 
    REFERENCES PRODUCTS 
    ( 
     ID
    ) 
;

ALTER TABLE PRODUCT_VOTES 
    ADD CONSTRAINT PVT_USR_FK FOREIGN KEY 
    ( 
     USER_ID
    ) 
    REFERENCES USERS 
    ( 
     ID
    ) 
;

ALTER TABLE SENTIMENTS 
    ADD CONSTRAINT SEN_PRC_FK FOREIGN KEY 
    ( 
     PRODUCT_REVIEW_COMMENT_ID,
     PRODUCT_REVIEW_COMMENT_USER_ID
    ) 
    REFERENCES PRODUCT_REVIEW_COMMENTS 
    ( 
     ID,
     USER_ID
    ) 
;

ALTER TABLE SENTIMENTS 
    ADD CONSTRAINT SEN_PRO_FK FOREIGN KEY 
    ( 
     PRODUCT_ID
    ) 
    REFERENCES PRODUCTS 
    ( 
     ID
    ) 
;

ALTER TABLE USERS 
    ADD CONSTRAINT USR_ROL_FK FOREIGN KEY 
    ( 
     ROLE_ID
    ) 
    REFERENCES ROLES 
    ( 
     ID
    ) 
;



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             8
-- CREATE INDEX                             1
-- ALTER TABLE                             19
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0